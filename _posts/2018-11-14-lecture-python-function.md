---
layout: dark-post
title: 파이썬 강의 - 함수
date: 2018-11-13
author: Geunsu Heo
categories: [python lecture]
tags: [python,lecture]
sitemap:
  changefraq: daily
  priority: 1.0
---

---
## 함수
우리가 그동안 줄곧 들어왔던 **함수** 에 대해서 배운다. 함수란 어떠한 일을 수행해준다. 우리가 계속 사용해왔던 파이썬 내장 함수 print()을 보자. 어떠한 입력값을 ()안에 받고 그에 관한 특정한 일들을 수행한다.
```python
print("a") # a
print(1) # 1
```
위를 보면 "a" 문자열을 받으면 a를 화면에 출력해주는 역할을 하고 1을 받으면 1을 출력해준다. 위 그림을 보면 어떠한 입력값 INPUT을 소괄호()안에 넣고 어떠한 일이 함수 내부에서 실행이 되고 그 결과가 나온다.

![image](https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Function_machine2.svg/191px-Function_machine2.svg.png)
---
### 함수 정의하기
이제 함수를 만들어보자
- `def 함수명(매개변수):`로 함수를 정의한다.
- `매개변수`에는 어떤 입력을 받을 변수를 적어준다.
- `return`으로 어떤 결과를 내줄 것인지를 결정한다.
```python
def product(a,b):
  c = a*b
  return c
```
위 **product** 이라는 함수를 정의해준 구문을 보자 **def** 와 함께 함수명, 그리고 괄호 안에 필요한 입력값들을 받을 **매개변수** 명을 적고 블럭 안에 실행될 구문을 적는다. 그리고 마지막에 결과를 **return** 문으로 내주고 함수를 끝낸다.

### 함수 호출하기
우리가 위에서 정의해준 product 함수는 사용될 준비가 된 것이지 아직 사용되지 않았다. 사용하는 방법은 **호출** 이며 호출하는 방법은 함수명과 매개변수에 넘겨줄 입력값들을 올바르게 입력해주면 된다.
```python
def product(a,b):
  c = a*b
  return c

p = product(1,2)
print(p) # 2
```
위의 def문과 블럭으로 묶인 부분은 함수를 정의해준 부분이고 아래 product(1,2)는 함수를 사용하기 위해 호출해주는 부분이다. 함수에 입력값으로 설정한 1과 2를 각각 함수에 있는 매개변수 a, b로 할당되고 함수 내에 있는 구문이 실행이 되게 됩니다. 그 후 마지막에 return으로 결과를 넘겨주면 product 함수가 호출된 곳으로 결과값을 반환해주면서 함수는 끝을 내게 됩니다.
<br>
함수를 호출하는 방법은 두 가지가 있다.
- 순서대로 매개변수의 값을 입력하여 호출
- 매개변수의 이름에 할당하여 호출

```python
def product(a,b):
  c = a*b
  return c

x = product(1,2) # 순서대로 a, b에 값을 넘겨주면서 호출
y = product(b=2,a=1) # 매개변수 이름에 넣어주면서 호출
print(x) # 2
print(y) # 2
```

---
### 함수 정의 유형
함수 정의 시 함수에 넘겨주는 입력값, 그것을 받는 매개변수가 있다고 했고 함수가 끝나고 호출한 곳으로 결과값을 돌려주는 반환값이 있다고 했다. 하지만 반드시 입력값을 넘겨줄 필요가 없고 함수는 결과값을 돌려주지 않아도 된다.
#### 입력값이 필요할까?
함수가 호출할 때 받아야할 값이 필요할 때는 입력값을 받을 매개변수가 필요하지만 그렇지 않다면 넘겨줄 필요가 없다. 아래의 예를 살펴보자
```python
def get_address():
  return "경기도 부천시 지봉로 43"

print(get_address()) # 경기도 부천시 지봉로 43
```
위의 get_address라는 함수는 단순히 **"경기도 부천시 지봉로 43"** 라는 구문을 보내주는 함수로 호출되는 곳으로부터 필요하는 정보가 없다. 하지만 아래의 경우는 다르다. 우리가 앞에서 정의해본 곱하기 함수 product()는 임의의 두 수를 받아서 곱해주는 역할이기 때문에 **두 수** 를 꼭 받아야 한다.
```python
def product(a,b):
  c = a*b
  return c

p = product(1,2)
print(p) # 2

p = product(3,2)
print(p) # 6
```

#### 돌려주는 값이 필요할까?
함수가 모든 구문을 끝내고 return으로 결과값을 보내준다고 했다. 하지만 반드시 return을 해줄 필요 없이 단순히 블럭이 끝나 함수를 끝낼 수 있다. 그렇다면 반드시 return으로 결과값을 보내줄 때는 언제일까? 바로 함수의 목적에 따라 다르다. 아래 함수는 구문을 실행만 할 뿐 반드시 넘겨줄 필요가 없는 함수이다. 단순히 a와 b의 곱을 구하고 출력한 후 끝나는 목적으로 만들었기 때문이다.
```python
def print_product(a,b):
  c = a*b
  print(c)

print_product(1,2) # 2
```
---
### 입력값을 생략하기
우리가 위에서는 함수가 필요로 하는 매개변수들을 2개로 정의해줬으면 2개, 3개로 정의해주었으면 3개를 넘겨서 함수를 실행해야만 했다. 아래의 경우를 보면 모자라게 입력값을 넘겨줄 경우 당연히 에러가 발생한다.
```python
def product(a,b):
  return a*b

print(product(3))
```
```
TypeError: product() missing 1 required positional argument: 'b'
```
그렇다면 우리가 매개변수를 생략할 경우를 대비해서 미리 값을 설정해두고 생략하는 경우 그 값을 사용하게 하여 입력값을 생략할 수 있지 않을까? 이렇게 미리 지정하여 기본으로 가지는 값을 **디폴트 값** 이라고 하며 매개변수에 값을 할당하여 함수를 정의하면 된다.
```python
def product(a, b=2):
  return a*b

print(product(3)) # 6
```
#### 디폴트 값 정의 시 주의점
디폴트 값은 반드시 뒤에 정의된 매개변수들부터 순서대로 정의를 해주어야하며 만약 아래의 경우처럼 매개변수 a,b,c가 있는데 c는 디폴트 값이 없고 b는 디폴트 값을 지정해준다면 우리가 함수를 호출할 때 b를 생략하려고 한다 해보면 컴퓨터는 b의 값인지 c의 값인지 알 수가 없다. 단지 뒤에 있는 c의 값이 생략된 것처럼 착각을 해버린다. 이 점을 주의해야한다.

- 디폴트 값은 뒤의 매개변수부터 정의해야한다.

```python
def product(a, b=2, c):
  return a*b*c

print(product(3, 2))
```
```
SyntaxError: non-default argument follows default argument
```
```python
def product(a, b=2, c=3):
  return a*b*c

print(product(3, 2)) # 18
```

---
### 함수 정의 시 주의점
함수를 정의할 때는 반드시 주의해야할 점이 있다.
- 동일한 함수명으로는 한 번만 정의할 수 있다.
- 반환값은 한 개의 자료만 보낼 수 있다.

#### 매개변수를 유동적으로 받기
우리가 위에서 언급한 주의점 첫 번째, 동일한 함수명으로는 한 번만 정의할 수 있다는 것이였다. 즉, 오버로딩(overloading)이 안된다는 것이다. 매개변수를 어쩔때는 3개 어쩔때는 4개를 받으려면 어떻게 해야할까? 맨 뒤에 있는 매개변수 앞에 `*` 를 붙여주면 된다.
- 만약 매개변수가 각각 2개, 3개를 가지는 adder함수를 따로 정의해주면 아래와 같이 먼저 정의된 adder함수는 없어져서 2개로는 호출이 되지 않는 것을 확인할 수 있다.

```python
def adder(a,b):
  return a+b
def adder(a,b,c):
  return a+b+c

adder(1,2)
adder(1,2,3)
```
```
TypeError: adder() missing 1 required positional argument: 'c'
```
- 매개변수에 *를 붙여 한 번의 여러개의 값을 받는 매개변수로 정의하여 여러 변수를 유동적으로 받을 수 있게 한다. 아래 예제를 살펴보자.

```python
def adder(*arr):
  print("arr : ",arr)
  sum = 0
  for i in arr:
    sum += i
  return sum

print(adder(1,2,3,4))
#arr :  (1, 2, 3, 4)
#10

print(adder(1,2,3,4,5,6))
#arr :  (1, 2, 3, 4, 5, 6)
#21
```
주의 깊게 살펴볼 사항은 위 매개변수 arr가 받은 값들을 하나의 튜플로 받는 것을 확인할 수 있다.
즉, \*을 앞에 붙인 매개변수는 얼마나 많이 들어오는지 상관없이 튜플 하나로 받는다. 그러면 \*를 사용할때 주의할 점은 무엇일까?

#### *매개변수 사용 시 주의점
- 매개변수명은 `*`을 포함하지 않는다. `*`arr로 정의했다고 해도 `*`는 이것이 튜플로 유동적으로 받아내는 매개변수 임을 나타내주는 것이지 매개변수명이 되지 않는다.
- `*`를 포함한 매개변수는 함수당 한 개씩만 사용이 가능하며, 맨 뒤에 정의해야한다.

```python
def adder(a,b,*arr):
  #(...)
  print("올바르게 정의한 경우")

adder(1,2,3,4) # 올바르게 정의한 경우
```
- 아래와 같이 맨 뒤가 아닌 곳에 정의하거나 두 개 이상을 정의할 시 오류가 발생한다.

```python
def adder(a,*arr,b):
  #(...)
  print("맨 뒤가 아닌 중간에 있는 경우")

adder(1,2,3,4)
```
```
TypeError: adder() missing 1 required keyword-only argument: 'b'
```
```python
def adder(a,*arr1,*arr2):
  #(...)
  print("두 개가 있는 경우")

adder(1,2,3,4)
```
```
File "<ipython-input-6-375160f90515>", line 1
    def adder(a,*arr1,*arr2):
                      ^
SyntaxError: invalid syntax
```
---
### 여러개의 값 리턴하기
우리가 함수의 결과를 리턴해서 보내줄 때 반드시 한 개의 값을 리턴해줄 수 있다고 했다. 그런데 만약 내가 여러 개의 값을 보내야만 한다면 어떻게 해야할까? 이럴때는 하나의 튜플로 묶어서 리턴한다. 리스트, 딕셔너리 등 다른 자료형들도 다 가능하지만 단순히 전달을 하는 불변의 순서열이므로 튜플이 효율적이므로 튜플을 주로 사용하는 것이다. 이때 주의할 점은 호출한 쪽에서도 하나의 튜플로 받는 것이다. 따라서 요소마다 변수로 받고 싶다면 튜플에서 할당을 배웠던 것처럼 변수들의 튜플에 할당시켜주면 된다.
```python
def sum_product(a,b):
  sum = a+b
  prod = a*b
  return sum, prod

x,y = sum_product(3,2)
print(x) # 5
print(y) # 6
```

---
### 지역변수 이해하기
우리가 함수를 배우면서 반드시 알아야할 개념인 **지역변수** 에 대해서 알아보자. 우리가 프로그램을 작성하면서 만들어주는 변수들은 언제 어디서든 사용할 수 있는 것이 아니라 사용할 수 있는 범위가 정해져있다. 우리가 함수를 정의하면서 함수에서 사용하는 변수들, 그 안에 정의한 변수와 매개변수들이 이에 해당하는데 이 변수들은 함수에서만 사용할 수 있는 지역변수이므로 함수에서만 사용이 가능하다. 아래의 예제를 살펴보자

```python
def func1():
  a=0

print(a)
```
```
NameError: name 'a' is not defined
```
다음과 같이 함수 바깥에서 변수를 사용할 수 없다. 이 변수 a가 함수의 지역변수이다.
### 전역변수 이해하기
지역변수는 함수 안에서만 사용이 가능한 변수를 말했고 이번에는 프로그램 어디서든 사용할 수 있는 변수인 **전역변수** 에 대해서 알아보자 전역변수는 프로그램에서 만든 변수 즉, 우리가 현재 파이썬 프로그래밍을 하고 있는 py파일에 작성을 하는 변수는 이 py안에서 작성되는 함수들이 사용할 수 있다는 것이다. 아래를 살펴보면서 이해해보자.
```python
a = 1000

def func1():
  print(a)

func1() # 1000
```
이처럼 함수 안이 아닌 밖에 있는 변수는 함수가 사용을 할 수 있다. 그렇다면 함수 내에 있는 변수를 밖에서 사용하고 싶다면 어떻게 해야할까?
- return으로 반환하는 법
  - 이는 변수를 사용할 수 있는 것이 아니라 함수로 부터 값을 넘겨받아 사용하는 것이라 변수는 다르다.
- 변수를 **global** 문으로 전역변수로 만들어주는 법

```python
def func1():
  global a # 전역변수 a 선언
  a=1234

func1()
print(a) #1234
```

```python
def func2():
  a = 1234
  return a

a = func2()
print(a) #1234
```

#### 전역변수 사용은 권장하지 않는다.
프로그래밍을 할 때 전역변수보다는 지역변수를 권장한다. 함수의 경우 global을 사용하는 방법 말고 return하여 지역변수를 사용하는 것을 권장하는 것이다. 그렇다면 여기서 의문점이 왜 전부 전역변수로 쓰면 편할 것을 지역변수로 사용할까?라는 것이다. 이는 크게 두 가지 이유를 꼽을 수 있다.
- 메모리를 많이 사용하여 효율이 떨어진다.
  - 지역변수는 그 함수나 블럭에서 사용이 끝나면 메모리를 제거하여 다른 프로세스가 사용할 수 있지만 전역변수는 그 프로그램이 끝날 때까지 메모리에 남아 쓰지 않아도 계속 메모리에 남게 된다.
- 어디서든 사용할 수 있다는 게 좋은 것이 아니다. 역으로 언제 어디서 바뀔 지 모른다는 것이고 이는 큰 오류를 범하기 쉬워진다.

---
### 예제
#### 예제 1 - 함수 정의
아래의 기능을 하는 함수를 return값이 있는 유형과 없는 유형 각각 정의하시오.
```
두 개의 정수를 입력 받아 두 수의 몫과 나머지를 출력하시오.
```

#### 예제 2 - 구구단 출력
임의의 정수 n 한 개를 입력받아 2단~n단까지의 구구단을 출력하는 함수를 작성하시오. 이때 정수는 2이상 10미만으로 받아야하며 이외의 정수를 받으면 다시 입력을 받아야 한다.

#### 예제 3 - 여러 개의 입력 받기
1개 이상의 과목 점수를 입력받아 과목 점수들의 최고점과 평균을 출력하는 함수를 작성하시오.

#### 예제 4 - 입력값 생략하기
매개변수 3개 a,b,c는 자연수 3개 입력받아 a와 b 사이에 있는 c의 배수를 리턴해주는 함수이다. 이때 c를 생략하여 단순히 a와 b 사이에 있는 정수를 리턴해주도록 함수를 정의하시오.

#### 예제 5 - 리스트 필터
임의의 자연수로 이루워진 리스트를 입력받아 홀수로만 이루워진 리스트와 짝수로만 이루워진 리스트를 분리하여 리턴하라.
```
들어가는 리스트 = [1,2,3,4,5,6,7]
리턴 리스트 = [1,3,5,7], [2,4,6]
```

#### 예제 6(심화) - 함수 안에 함수
팩토리얼이란 임의의 정수 n에 대해 n!로 나타낼 수 있는 연산이며 n! = n\*(n-1)\*(n-2)\*...\*1이다. 0이상의 정수 n을 입력받아 n! (n 팩토리얼)을 리턴하는 함수를 구하시오.



---
참고도서
[점프투파이썬](https://wikidocs.net/24)
